<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Js错误捕获</title>
    <script type="text/javascript">
    /**
     * @param {String}  errorMessage   错误信息
     * @param {String}  scriptURI      出错的文件
     * @param {Long}    lineNumber     出错代码的行号
     * @param {Long}    columnNumber   出错代码的列号
     * @param {Object}  errorObj       错误的详细信息，Anything
     */
    window.onerror = function(
      errorMessage,
      scriptURI,
      lineNumber,
      columnNumber,
      error
    ) {
      if (error) {
        reportError(error);
      } else {
        reportError({
          message: errorMessage,
          script: scriptURI,
          line: lineNumber，
          column: columnNumber
        });
      }
    }

    function reportError (error) {
      //输出
      console.log("错误信息：" , error.errorMessage);
      console.log("出错文件：" , error.scriptURI);
      console.log("出错行号：" , error.lineNumber);
      console.log("出错列号：" , error.columnNumber);
      console.log("错误详情：" , error.errorObj);
      //在此处理错误信息，收集或者提交
    }
    </script>
</head>
<body>
    <script type="text/javascript" src="js/error.js"></script>
</body>
</html>